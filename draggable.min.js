!function(t,e){"function"==typeof define&&"object"==typeof define.amd?define(e):this[t]=e()}("draggable",function(){function t(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function e(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function n(t,e){var n="";return"object"==typeof t.currentStyle?n=t.currentStyle[e]:window.getComputedStyle&&(n=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),n}function o(e,o){o=o||e,E=n(e,"z-index"),r(e),s(e),t(o,"mousedown",function(t){button=null==t.which?t.button<2?"LEFT":4==t.button?"MIDDLE":"RIGHT":t.which<2?"LEFT":2==t.which?"MIDDLE":"RIGHT","LEFT"===button&&u(t,e)})}function r(t){t.style.position="absolute"}function s(t){t.draggableListeners={start:[],drag:[],stop:[]},t.whenDragStarts=i(t,"start"),t.whenDragging=i(t,"drag"),t.whenDragStops=i(t,"stop")}function u(t,e){y&&l(y),y=c(e);var n=p(y);y.style.left=d(n.left),y.style.top=d(n.top),y.lastXPosition=t.clientX,y.lastYPosition=t.clientY;var o=a("start",{x:n.left,y:n.top,mouseEvent:t});o&&f()}function i(t,e){return function(n){t.draggableListeners[e].push(n)}}function a(t,e){for(var n=!0,o=y.draggableListeners[t],r=o.length-1;r>=0;r--)o[r](e)===!1&&(n=!1);return n}function l(t){var e=E-1;t.style["z-index"]=e,t.style.zIndex=e}function c(t){return t.style["z-index"]=E,t.style.zIndex=E,t}function f(){t(document,"selectstart",v),t(document,"mousemove",g),t(document,"mouseup",m)}function p(t){var e={};return e="absolute"==n(t,"position")?{top:parseInt(n(t,"top")),left:parseInt(n(t,"left"))}:t.getBoundingClientRect(),{top:e.top,left:e.left}}function d(t){return t+"px"}function v(t){return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.returnValue=!1,!1}function g(t){t.preventDefault&&t.preventDefault(),t.returnValue=!1;var e=y.style,n=parseInt(e.left,10),o=parseInt(e.top,10),r=n+(t.clientX-y.lastXPosition),s=o+(t.clientY-y.lastYPosition);e.left=d(r),e.top=d(s),y.lastXPosition=t.clientX,y.lastYPosition=t.clientY,a("drag",{x:r,y:s,mouseEvent:t})}function m(t){e(document,"selectstart",v),e(document,"mousemove",g),e(document,"mouseup",m);var n=parseInt(y.style.left,10),o=parseInt(y.style.top,10);a("stop",{x:n,y:o,mouseEvent:t})}var y,E="10";return o});